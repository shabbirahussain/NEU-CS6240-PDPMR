if (file.exists("/Users/jan")) {
knitr::opts_knit$set(root.dir = normalizePath("/Users/jan/Dropbox/j/teach/5110/DataAnalysis17/Performance/data/files"))
} else {
knitr::opts_knit$set(root.dir = normalizePath("/Users/jv/Dropbox/j/teach/5110/DataAnalysis17/Performance/data/files"))
}
spectralnorm <- function(args) {
n = if (length(args)) as.integer(args[[1]]) else 100L
options(digits=10)
eval_A <- function(i, j) 1 / ((i + j) * (i + j + 1) / 2 + i + 1)
eval_A_times_u <- function(u) {
ret <- double(n)
for (i in 0:n1) {
eval_A_col <- double(n)
for (j in 0:n1)
eval_A_col[[j + 1]] <- eval_A(i, j)
ret[[i + 1]] <- u %*% eval_A_col
}
return(ret)
}
eval_At_times_u <- function(u) {
ret <- double(n)
for (i in 0:n1) {
eval_At_col <- double(n)
for (j in 0:n1)
eval_At_col[[j + 1]] <- eval_A(j, i)
ret[[i + 1]] <- u %*% eval_At_col
}
return(ret)
}
eval_AtA_times_u <- function(u) eval_At_times_u(eval_A_times_u(u))
n1 <- n - 1
u <- rep(1, n)
v <- rep(0, n)
for (itr in seq(10)) {
v <- eval_AtA_times_u(u)
u <- eval_AtA_times_u(v)
}
cat(sqrt(sum(u * v) / sum(v * v)), "\n")
}
View(spectralnorm)
View(spectralnorm)
View(spectralnorm)
View(spectralnorm)
View(spectralnorm)
View(spectralnorm)
View(spectralnorm)
spectralnorm()
spectralnorm(10)
spectralnorm(100)
require("tufte")
require("ggplot2")
require("dplyr")
require("assertthat")
require("testthat")
require("tufte")
require("tufte")
require("ggplot2")
require("dplyr")
require("assertthat")
require("testthat")
require("tufte")
out <- readLines("out/results/benchmark_out.csv")
hist(out, freq=T)
install.packages('ggplot2', dep = TRUE)
install.packages('tufte', dep = TRUE)
install.packages('ggplot2', dep = TRUE)
install.packages('dplyr', dep = TRUE)
install.packages('assertthat', dep = TRUE)
install.packages('testthat', dep = TRUE)
require("tufte")
require("ggplot2")
require("dplyr")
require("assertthat")
require("testthat")
out <- readLines("out/results/benchmark_out.csv")
hist(out, freq=T)
out
out <- read.csv("out/results/benchmark_out.csv", header = TRUE)
out
hist(out)
hist(out.time)
out.time
out["time"]
hist(out["time"])
hist(out$time)
p <- ggplot(out, aes(x=maxThreads, y=time) +
geom_violin()
p <- ggplot(out, aes(x=maxThreads, y=time)) +
geom_violin()
out
p <- ggplot(out, aes(x=maxThreads, y=time)) +
geom_violin()
p <- ggplot(out, aes(x=maxThreads, y=time)) +
geom_violin()
p <- ggplot(out, aes(x=maxThreads, y=time)) +
geom_violin()
p <- ggplot2(out, aes(x=maxThreads, y=time)) +
geom_violin()
p <- ggplot(out, aes(x=maxThreads, y=time)) +
geom_violin()
p <- ggplot(out, aes(x=maxThreads, y=time))
p <- ggplot(out, aes(x=maxThreads, y=time))
p <- ggplot(out, aes(x=maxThreads, y=time))
p <- ggplot(out, aes(x=maxThreads, y=time))
